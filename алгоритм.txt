1. Включение и инициализация
	1.1 свой экран ----> pult(eeprom, экранчик пульта  ==== подтверждение мастеру)	

2. клава инженерного пульта --->   pult, kluchi, EEPROM(pult), EEPROM(инженерный пульт)

	2.1  клава  ----> eeprom, pult  ==== подтверждение пульта
	2.2  pult   ----> экран, eeprom ==== ответ пульту
	2.3  режимы
		2.3.1 старт
		2.3.2 клава  --- блокировать прием от pult
		2.3.3 pult

3. pult  ---> экран, kluchi, EEPROM(pult), EEPROM(инженерный пульт)

	3.1 приняли частоту ----> EEPROM, экран -> eeprom, сой экранчик ==== ответили мастеру
	3.2 клава  --- > бокируем прием, передали мастеру, EEPROM ---> МАСТЕР -> eeprom, экран  ==== ответ pult все нормально (УСТОЙЧИВОЕ СОСТОЯНИЕ)
	3.3  режимы
		3.3.1 старт
		3.3.2 клава  ----  блокировать прием от инженерного пульта
		3.3.3 инженерный пульт
		
		
		
		350.c (прошло изменение частоты - отправили на тех.пульт -          ключи)
		       ------------------------    ---------------------     ------------
			       period_                                                   eeprom
				  diagnoz_pult()                                                   
				 period_command_pult=1                                                                  
				 redaktor()                                                          
                 comand_pult()         

1. мастер:  передача
						запрос определяет
						1 разные значения частот
								с запросом
								без запроса
						2 ввоод с клавиатуры
						
						period_11 == osn_chastot
						(pzu) 
						otv_pult(void)
						разные частоты -- мой приоритет навязываем свою
						признак клавы
						---------------------------------------------------
								comand_pult()
									ass_command_pult == 1      *** сбрас. new_key_pult
									state_command_pult == 1    ***
									key_command_pult           *** сбрас. new_key_pult
									period_command_pult        *** сбрас. new_key_pult
										флаг	badcrc_command_pult				   *** нет crc на передачу
										флаг	ok_command_pult;				   *** нет ok_command !!!!!!!!!!!!!
									
						razborka_pult(void
								diagnoz_pult(
									new_ass_pult = 0;          *** запрос на изменение
									ass_command_pult = 0;      ***  вчем разница??????
									state_command_pult =1;     *** просто обмен константами
									new_ok_pult = 1;   
									new_key_pult = 1;
									new_state_pult = 1;
									new_crc_pult               *** повторять запрос пока bad_crc
															    
				пульт
						разные частоты -- их приоритет принимаем чужую
						признак клавы
						----------------------------------------------
						otv(void)
								diagnostika()
									ok_command==1              *** 
									key_command_pult==1
									te |= bad_crc_;
									state_command_pult==1      ***
									period_command_pult==1     ***
									power_command_pult==1
									frec1_command_pult==1
									frec2_command_pult==1
									
						razborka2(void)
								comand(
									ok_command = 1;             *** нет у мастера?????
									ass_command = 1;            ***
									power_command_uart = 1;      
									key_command_uart = 1;       ***
									state_command_uart = 1;     ***
									period_command_uart = 1;    ***
																***  нет crc на прием
									
									1. разные значения частот 
										1.1  переприсвоили и ответили state_command_pul
									2. пришел  ass_command = 1; 
										2.1 переприсвоились
										2.2  ответили ok_command==1 
										2.3  ждем подтверждения ok_command
										2.3 разрешаем работу клавы если это нужно
									3. пришел state_command_uart
										3.1 нет клавы отвечаем state_command
										3.2 есть клава
											3.2.1 передали и блокируем прием
											3.2.2 ждем подтверждения
											3.2.3 переходим в нормальное состояние 
											3.2.4 снимаем запрос клавы
									4.  когда сбрасываем bad 
									
						
			1.1 отправили на пульт period_
			1.1.1 повесили флаг отправленного запроса
				ПОВТОРЯЕМ ДО ПОДТВЕРЖДЕНИЯ
			1.2 пульт провел изменения
			1.3 пульт подтвердил изменения
				поменял частоту в посылке
			1.4 сняли запрос на изменения
			1.5 передаем частоту без period_
			1.6 насильная инициализация         otv()
				      выравнивание частот
			
			прием :
			2.1 получил assig_
			2.2 прописал переменные
			2.3 перевывел экран
			2.4 отправил подтверждение
			
2. пульт
			передача

			прием	